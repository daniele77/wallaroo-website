---
title: Frequently Asked Questions
type: doc
---

<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.3";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));
</script>

<!-- Posiziona questo tag all'interno del tag head oppure subito prima della chiusura del tag body. -->
<script src="https://apis.google.com/js/platform.js" async defer></script>

<h1>Frequently Asked Questions</h1>

<p>
<ul><li><a href="#What&#x27;s_Wallaroo?">What's Wallaroo?</a></li>
<li><a href="#Is_it_multiplatform?">Is it multiplatform?</a></li>
<li><a href="#Then,_why_do_you_provide_the_.zip_and_.tgz_version_in_the_downlo">Then, why do you provide the .zip and .tgz version in the download page?</a></li>
<li><a href="#Do_I_need_to_compile_the_library?">Do I need to compile the library?</a></li>
<li><a href="#Can_I_use_Wallaroo_into_an_embedded_system?">Can I use Wallaroo into an embedded system?</a></li>
<li><a href="#Does_Wallaroo_use_C++11?">Does Wallaroo use C++11?</a></li>
<li><a href="#Do_I_need_boost_to_use_wallaroo?">Do I need boost to use wallaroo?</a></li>
<li><a href="#How_can_I_tell_wallaroo_not_to_use_boost?">How can I tell wallaroo not to use boost?</a></li>
<li><a href="#I_have_some_trouble_with_constructor_parameters">I have some trouble with constructor parameters</a></li>
<li><a href="#Can_I_register_template_classes?">Can I register template classes?</a></li>
<li><a href="#I_put_my_classes_in_shared_libraries,_and_I_get_a_WrongType_exce">I put my classes in shared libraries, and I get a WrongType exception!</a></li>
<li><a href="#If_I_put_my_classes_in_static_libraries,_Wallaroo_does_not_find">If I put my classes in static libraries, Wallaroo does not find them!</a></li>
<li><a href="#Which_compilers_are_supported?">Which compilers are supported?</a></li>
<li><a href="#Can_I_use_wallaroo_in_a_commercial_product?">Can I use wallaroo in a commercial product?</a></li>
<li><a href="#Does_Wallaroo_need_custom_preprocessors_/_code_generators?">Does Wallaroo need custom preprocessors / code generators?</a></li>
<li><a href="#Is_Wallaroo_intrusive?">Is Wallaroo intrusive?</a></li>
<li><a href="#Can_I_contribute_to_the_project?">Can I contribute to the project?</a></li>
<li><a href="#Why_is_it_called_&quot;Wallaroo&quot;?">Why is it called &quot;Wallaroo&quot;?</a></li>
<li><a href="#I&#x27;d_like_to_thank_you_for_the_great_library_you_wrote_:-)">I'd like to thank you for the great library you wrote :-)</a></li>
</ul>
</p>

<h2><a name="What&#x27;s_Wallaroo?"></a>What&#x27;s Wallaroo?</h2>

<p>Wallaroo is basically a <strong>dependency injection</strong> library for C++. 
It provides a way to build and wire the objects you need in your application using strings and/or 
loading a configuration file. With Wallaroo, you get rid of <tt>new</tt> constructs.  
In this way, the name of the concrete classes you want to use are no more carved in the stone (i.e. in your code). 
Your classes can be created starting from a specifications of some kind (configuration files, DBs, 
environment variables, or a mix of them). </p>

<h2><a name="Is_it_multiplatform?"></a>Is it multiplatform?</h2>

<p>Of course it is. Wallaroo is implemented by using standard C++ and (optionally) 
boost libraries and does not make assumptions on the underlying system. 
Thus, you can use it on every platform providing it has a decent C++ compiler. </p>

<h2><a name="Then,_why_do_you_provide_the_.zip_and_.tgz_version_in_the_downlo"></a>Then, why do you provide the .zip and .tgz version in the download page?</h2>

<p>Wallaroo is delivered in a ZIP file for Windows users and in a compressed TAR file (.tgz) for Unix/Linux users. 
Both archives contain the same files, the only difference is that all text files in the ZIP files 
have line endings suitable for Windows (CR-LF), while the text files in the TAR file have line 
endings suitable for Unix/Linux (LF only). </p>

<h2><a name="Do_I_need_to_compile_the_library?"></a>Do I need to compile the library?</h2>

<p>No, wallaroo is a header-only library, so you don&#x27;t need to compile it. </p>

<h2><a name="Can_I_use_Wallaroo_into_an_embedded_system?"></a>Can I use Wallaroo into an embedded system?</h2>

<p>Of course. I&#x27;m using it in several embedded projects, and it works great. </p>
<p>I also used Wallaroo with the cross-compiler for the ppc 6xx architecture. </p>

<h2><a name="Does_Wallaroo_use_C++11?"></a>Does Wallaroo use C++11?</h2>

<p>Of course. Wallaroo can use some of the new C++11 features instead of boost libraries. </p>

<h2><a name="Do_I_need_boost_to_use_wallaroo?"></a>Do I need boost to use wallaroo?</h2>

<p>Short answer: no. </p>
<p>Long answer: it depends. To get rid of boost libraries, your compiler must support C++11 features 
(basically smart pointers) and you must not use <tt>XmlConfiguration</tt> nor <tt>JsonConfiguration</tt> classes. </p>

<h2><a name="How_can_I_tell_wallaroo_not_to_use_boost?"></a>How can I tell wallaroo not to use boost?</h2>

<p>Wallaroo should automatically detect if your compiler is C++11 compliant. 
If it is, wallaroo interface will use std smart pointers (e.g.: <tt>std::shared_ptr</tt>) 
instead of boost smart pointers (e.g.: <tt>boost::shared_ptr</tt>). </p>
<p>By now, wallaroo automatically detects only gcc and visual C++ versions 
(if you&#x27;re working with another compiler, please 
<a href="mailto:wallaroolibrary@gmail.com" rel="nofollow">contact me</a> to help me verify 
the auto-detection mechanism). </p>
<p>You can change the default behaviour of wallaroo by using two compile time symbols. 
To impose the use of boost libraries, you can define the symbol <tt>WALLAROO_FORCE_USE_BOOST</tt>. 
In the same way, to impose the use of std smart pointers in wallaroo interface, 
you can define the symbol <tt>WALLAROO_FORCE_USE_STD</tt>. </p>

<h2><a name="I_have_some_trouble_with_constructor_parameters"></a>I have some trouble with constructor parameters</h2>

<p>Maybe you&#x27;ve encountered the limit on the number of parameters you can have in your <tt>wallaroo::Part</tt>-
derived classes. </p>
<p>For classes defined in the main address space, you can have up to 2 constructor parameters. For classes 
defined in a shared library, your classes cannot have constructor parameters. </p>
<p>The right way to deal with this limit is to use <a href="/p/wallaroo/wiki/Attributes">wallaroo attributes</a> 
instead of constructor parameters. Basically, you can substitute the constructor parameters with 
<tt>wallaroo::Attribute</tt> data members: they&#x27;re typed and wallaroo can initialize them through the 
usual DSL or the configuration file. </p>

<h2><a name="Can_I_register_template_classes?"></a>Can I register template classes?</h2>

<p>Yes, you can register all the template specializations you need. E.g.: </p>

<pre><code class="language-cpp">
WALLAROO_REGISTER( Foo&lt; int &gt; )
WALLAROO_REGISTER( Foo&lt; double &gt; )
</code></pre>

<p>Then, you can use the strings <tt>Foo&lt; int &gt;</tt> and <tt>Foo&lt; double &gt;</tt> in wallaroo DSL, 
XML and JSON. </p>
<p>Pay attention that: 
<ul>
<li>you must use the exact string you wrote in the registration line (e.g., with the example above, 
you must put the spaces around &quot;&lt;&quot; and &quot;&gt;&quot;!) </li>
<li>in your xml file, you must use &amp;lt and &amp;gt instead of &lt; and &gt; </li>
</ul>
</p>
<p>But you have the two following alternatives (valid in general). </p>
<p><strong>Typedefs</strong> </p>
<p>E.g.: </p>

<pre><code class="language-cpp">
typedef Foo&lt; int &gt; IntFoo;
typedef Foo&lt; double &gt; DoubleFoo;
WALLAROO_REGISTER( IntFoo )
WALLAROO_REGISTER( DoubleFoo )
</code></pre>

<p>Then, you will use the strings <tt>IntFoo</tt> and <tt>DoubleFoo</tt> in wallaroo DSL, XML and JSON. </p>
<p><strong>Manually create your classes in the DSL</strong> </p>
<p>E.g.: </p>

<pre><code class="language-cpp">
catalog.Add( &quot;double_foo&quot;, make_shared&lt; Foo&lt; double &gt; &gt;() );
catalog.Add( &quot;int_foo&quot;, make_shared&lt; Foo&lt; int &gt; &gt;() );
</code></pre>

<h2><a name="I_put_my_classes_in_shared_libraries,_and_I_get_a_WrongType_exce"></a>I put my classes in shared libraries, and I get a <tt>WrongType</tt> exception!</h2>

<p>If you get a <tt>WrongType</tt> exception when you try to extract an object from a <tt>catalog</tt>, 
maybe you&#x27;re using an old version of gcc. In that case, you should tell the compiler to provide 
RTTI across process boundaries, by using the flag <tt>-E</tt>: </p>

<pre><code class="language-make">
# extract from roulette sample Makefile:

# NOTE you need to pass -E to the linker to provide RTTI across process boundaries!
$(EXE): $(OBJ)
    $(LINK.cc) -Wl,-E -o $@ $^

# NOTE you need to pass -E to the linker to provide RTTI across process boundaries!
%.so: %.cpp %consolefactory.cpp %.h %consolefactory.h
    $(LINK.cc) -fPIC -shared -Wl,-E -Wl,-soname,$@ -o $@ $^ $(LFLAGS) $(CFLAGS)
</code></pre>

<h2><a name="If_I_put_my_classes_in_static_libraries,_Wallaroo_does_not_find"></a>If I put my classes in static libraries, Wallaroo does not find them!</h2>

<p>The linker does not link static libraries if the main program does not explicitly 
reference any symbol contained inside them. However, Wallaroo registration mechanism 
requires the linker to put everything inside the final executable, even those symbols 
that are never referenced. That&#x27;s why your executable can&#x27;t find your classes. </p>

<p>When you put your files in a static library, you are asking the linker to use only those files 
which resolve an undefined external. That&#x27;s what a library does. On the contrary, wallaroo 
main goal is exactly to not specify in code which concrete classes (i.e. linker symbols) you want to use. 
So, maybe a static library is not what you want:  you should consider the use of shared libraries 
or linking object files directly. </p>

<p>However, if you really need to put your classes in static libraries you have two options: 
<ul>
<li>if you use <strong>gcc</strong> you can put the libraries between<tt> --whole-archive</tt> and 
<tt>--no-whole-archive</tt> in your linker command line:  </li></p>
<pre><code class="language-bash">
    gcc -Lmy_libs_path -lmain -Wl,--whole-archive -lMyLib1 -lMyLib2 -Wl,--no-whole-archive -o exe_name
</code></pre>
<li>with every compiler you can add a dummy symbol to your library and explicitly use it inside your main program. </li>

<pre><code class="language-cpp">
// static library

#include &quot;wallaroo/registered.h&quot;

// define a dummy symbol (unique per library)
int PullInMyLibrary() { return 0; }

class MyPlugin : public wallaroo::Part
{
...
};

WALLAROO_REGISTER( MyPlugin );
</code></pre>

<pre><code class="language-cpp">
// main program

// force the linker to import the library
int PullInMyLibrary();
static int dummy = PullInMyLibrary();

int main()
{
    ...
    Catalog catalog;
    catalog.Create( &quot;plugin&quot;, &quot;MyPlugin&quot; );
    ...
}
</code></pre>
</ul>

<h2><a name="Which_compilers_are_supported?"></a>Which compilers are supported?</h2>

<p>Wallaroo should work on every recent compiler. </p>

<p>Anyway, I have personally tested the library with the following compilers: 
<ul>
<li>Microsoft Visual C++ 2013 Premium (with and without boost) </li>
<li>Microsoft Visual C++ 2012 Express edition (with and without boost) </li>
<li>Microsoft Visual C++ 2010 Express edition (with and without boost) </li>
<li>Microsoft Visual C++ 2008 Express edition (with boost) </li>
<li>GNU gcc v. 4.7.2 (with and without boost) </li>
<li>GNU gcc v. 4.6.3 (with and without boost) </li>
<li>GNU gcc v. 4.3.0 (with boost) </li>
<li>GNU gcc v. 4.2.2 (with boost) </li>
</ul>
</p>

<p>If you tried the library with another compiler, please <a href="mailto:wallaroolibrary@gmail.com" rel="nofollow">let me know</a>. </p>

<h2><a name="Can_I_use_wallaroo_in_a_commercial_product?"></a>Can I use wallaroo in a commercial product?</h2>

<p>Of course, you can. Wallaroo is released under <a href="http://www.boost.org/LICENSE_1_0.txt" rel="nofollow">BOOST software license</a> 
that states you can do basically everything with my library. </p>

<h2><a name="Does_Wallaroo_need_custom_preprocessors_/_code_generators?"></a>Does Wallaroo need custom preprocessors / code generators?</h2>

<p>No, Wallaroo does not need any custom build step. This was a basic criteria driving the design of the 
whole library. Unfortunately, when you try to develop dependency injection in C++ without custom 
preprocessors / code generators, you end up building an intrusive library.  </p>

<h2><a name="Is_Wallaroo_intrusive?"></a>Is Wallaroo intrusive?</h2>

<p>Yes it is. This basically means that you need to derive your classes from <tt>wallaroo::Part</tt> 
in order to be managed by wallaroo. If you only need to manage 3rd party classes (that you cannot modify) 
and you just need the &quot;creation&quot; feature, you can actually solve the problem by writing a wrapper 
of 3rd party classes (the usual indirection layer that solve every CS problem :-) . 
However, in this way you cannot exploit the &quot;wiring&quot; feature of wallaroo. 
I&#x27;m planning to add an option to use a non-intrusive mechanism at least for the creation feature in wallaroo. </p>

<h2><a name="Can_I_contribute_to_the_project?"></a>Can I contribute to the project?</h2>

<p>There are several ways you can contribute to wallaroo. You can: 
<ul>
<li>improve and check the documentation </li>
<li>test the library </li>
<li>suggest new features and improvements </li>
<li>send patches / bug fixes </li>
</ul>
Please <a href="mailto:wallaroolibrary@gmail.com" rel="nofollow">let me know</a> if you&#x27;d like to contribute. </p>

<h2><a name="Why_is_it_called_&quot;Wallaroo&quot;?"></a>Why is it called &quot;Wallaroo&quot;?</h2>

<p>Because I love Australia :-) </p>

<h2><a name="I&#x27;d_like_to_thank_you_for_the_great_library_you_wrote_:-)"></a>I&#x27;d like to thank you for the great library you wrote :-)</h2>

<p>Great. I&#x27;d like you to star my project and to use this 
<g:plusone size="small" source="google:projecthosting"></g:plusone> button: 
it&#x27;s free and it will give me a big incentive to improve wallaroo. 
In addition, you can also <a href="mailto:wallaroolibrary@gmail.com" rel="nofollow">let me know</a> 
you&#x27;re using wallaroo and tell me how can I improve it. </p>

<p> twitter:
<a href="https://twitter.com/share" class="twitter-share-button" data-url="http://wallaroolib.sourceforge.net/" data-via="DPallastrelli" data-related="DPallastrelli" data-hashtags="wallaroolib">Tweet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
</p>

<p> FB:
<div class="fb-like" data-href="http://wallaroolib.sourceforge.net/" data-layout="standard" data-action="like" data-show-faces="true" data-share="true"></div>
</p>

<p> Google+:
<!-- Inserisci questo tag nel punto in cui vuoi che sia visualizzato l'elemento pulsante +1. -->
<div class="g-plusone" data-annotation="inline" data-width="300" data-href="http://wallaroolib.sourceforge.net/"></div>
</p>

<p> Linkedin:
<script src="//platform.linkedin.com/in.js" type="text/javascript"> lang: en_US</script>
<script type="IN/Share" data-url="http://wallaroolib.sourceforge.net/" data-counter="right"></script>
</p>